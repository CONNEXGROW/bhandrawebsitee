<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bhandara Events</title>
</head>
<body>
  <h1>Bhandara Events</h1>
  <div id="events-container"></div>

  <script>
    // URL to the backend API
    const API_URL = 'https://backend-kshv.onrender.com/api/data';

    // Function to fetch events from the backend
    const loadWebsiteContent = async () => {
      try {
        const response = await fetch(API_URL);
        
        // Check if the response is OK (status 200)
        if (!response.ok) {
          throw new Error('Failed to fetch data');
        }
        
        // Parse the response data
        const data = await response.json();
        
        // Check if data exists and display it
        if (data.length > 0) {
          const eventsContainer = document.getElementById('events-container');
          
          // Clear any previous content
          eventsContainer.innerHTML = '';
          
          // Loop through the data and create HTML elements for each event
          data.forEach(event => {
            const eventElement = document.createElement('div');
            eventElement.classList.add('event');
            eventElement.innerHTML = `
              <h3>${event.name}</h3>
              <p>Date: ${event.date}</p>
              <p>Time: ${event.time}</p>
              <p>Location: ${event.location}</p>
            `;
            eventsContainer.appendChild(eventElement);
          });
        } else {
          document.getElementById('events-container').innerHTML = '<p>No events found.</p>';
        }
      } catch (error) {
        console.error('Error loading website content:', error);
        document.getElementById('events-container').innerHTML = '<p>Error loading events. Please try again later.</p>';
      }
    };

    // Call the function to load content when the page loads
    window.onload = loadWebsiteContent;
  </script>
</body>
</html>
